@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Josefin+Sans:wght@200;400;600&display=swap');

:root {
  --bg:         #090c10;
  --bg2:        #0e1218;
  --surface:    rgba(255,255,255,0.04);
  --surface-h:  rgba(255,255,255,0.07);
  --border:     rgba(255,255,255,0.08);
  --border-h:   rgba(255,255,255,0.18);
  --text:       #e8e6e1;
  --text-dim:   #8b8884;
  --text-faint: #3d3d3e;
  --accent:     #c8a97e;
  --accent2:    #7eb8c8;
  --danger:     #f87171;
  --success:    #4ade80;
  --font-serif: 'Cormorant Garamond', Georgia, serif;
  --font-sans:  'Josefin Sans', sans-serif;
  --radius:     12px;
  --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 15px; scroll-behavior: smooth; }

body {
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  cursor: none;
  -webkit-font-smoothing: antialiased;
}

.cursor-dot,
.cursor-ring {
  pointer-events: none;
  position: fixed;
  top: 0; left: 0;
  z-index: 9999;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: opacity 0.3s;
}
.cursor-dot {
  width: 6px; height: 6px;
  background: var(--accent);
  transition: transform 0.1s;
}
.cursor-ring {
  width: 32px; height: 32px;
  border: 1px solid var(--accent);
  opacity: 0.5;
  transition: transform 0.12s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              width 0.25s, height 0.25s, opacity 0.25s;
}
body:has(a:hover) .cursor-ring,
body:has(button:hover) .cursor-ring,
body:has(input:hover) .cursor-ring,
body:has(select:hover) .cursor-ring {
  width: 50px; height: 50px;
  opacity: 0.8;
  border-color: var(--accent2);
}

.bg-grid {
  position: fixed; inset: 0; z-index: 0;
  background-image:
    linear-gradient(rgba(200,169,126,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(200,169,126,0.03) 1px, transparent 1px);
  background-size: 60px 60px;
}
.bg-gradient {
  position: fixed; inset: 0; z-index: 0;
  background: radial-gradient(ellipse 80% 60% at 20% 20%, rgba(126,184,200,0.06) 0%, transparent 60%),
              radial-gradient(ellipse 60% 80% at 80% 80%, rgba(200,169,126,0.06) 0%, transparent 60%);
}
#particles {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none;
}

.auth-wrapper {
  position: relative; z-index: 1;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}
.auth-card {
  position: relative;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 3rem 2.8rem;
  width: 100%;
  max-width: 420px;
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  animation: cardIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) both;
}
@keyframes cardIn {
  from { opacity: 0; transform: translateY(30px) scale(0.97); }
  to   { opacity: 1; transform: none; }
}
.card-glow {
  position: absolute; inset: 0;
  border-radius: 20px;
  background: radial-gradient(ellipse 60% 40% at 50% 0%, rgba(200,169,126,0.1), transparent);
  pointer-events: none;
}

.brand { text-align: center; margin-bottom: 2rem; }
.brand-icon { font-size: 2.4rem; margin-bottom: 0.5rem; filter: drop-shadow(0 0 12px rgba(200,169,126,0.5)); }
.brand-title {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: 1.4rem;
  letter-spacing: 0.3em;
  color: var(--text);
}
.brand-title span { color: var(--accent); }
.brand-sub {
  font-family: var(--font-serif);
  font-size: 0.95rem;
  font-style: italic;
  color: var(--text-dim);
  margin-top: 0.3rem;
}
.form-heading {
  font-family: var(--font-serif);
  font-weight: 300;
  font-size: 1.6rem;
  color: var(--text-dim);
  margin-bottom: 1.8rem;
  letter-spacing: 0.02em;
}

.field-group { margin-bottom: 1.4rem; }
.field-group label {
  display: block;
  font-size: 0.7rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--text-dim);
  margin-bottom: 0.5rem;
}
.input-wrap { position: relative; }
.input-wrap input,
.input-wrap select {
  width: 100%;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--border-h);
  color: var(--text);
  font-family: var(--font-sans);
  font-size: 0.95rem;
  padding: 0.6rem 0;
  outline: none;
  cursor: none;
  transition: border-color var(--transition);
  -webkit-appearance: none;
  appearance: none;
}
.input-wrap select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%238b8884' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 4px center;
  padding-right: 1.5rem;
  cursor: none;
}
.input-wrap select option { background: #141820; color: var(--text); }
.input-line {
  position: absolute; bottom: 0; left: 0;
  width: 0; height: 1px;
  background: var(--accent);
  transition: width var(--transition);
}
.input-wrap:focus-within .input-line { width: 100%; }
.input-wrap:focus-within input,
.input-wrap:focus-within select { border-bottom-color: transparent; }
input::placeholder { color: var(--text-faint); }
input[type=number]::-webkit-inner-spin-button { opacity: 0.3; }

.full-width { grid-column: 1 / -1; }

.btn-primary {
  width: 100%;
  background: transparent;
  border: 1px solid var(--accent);
  color: var(--accent);
  font-family: var(--font-sans);
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.25em;
  padding: 1rem;
  border-radius: 8px;
  cursor: none;
  position: relative;
  overflow: hidden;
  transition: background var(--transition), color var(--transition), transform 0.15s;
  margin-top: 0.5rem;
}
.btn-primary::before {
  content: '';
  position: absolute; inset: 0;
  background: var(--accent);
  transform: translateX(-100%);
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 0;
}
.btn-primary:hover::before { transform: translateX(0); }
.btn-primary:hover { color: var(--bg); }
.btn-primary:active { transform: scale(0.98); }
.btn-primary:disabled { opacity: 0.5; pointer-events: none; }
.btn-primary span { position: relative; z-index: 1; }
.btn-wide { max-width: none; }

.btn-ghost {
  background: transparent;
  border: 1px solid var(--border-h);
  color: var(--text-dim);
  font-family: var(--font-sans);
  font-size: 0.68rem;
  letter-spacing: 0.18em;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: none;
  transition: border-color var(--transition), color var(--transition);
}
.btn-ghost:hover { border-color: var(--accent); color: var(--accent); }
.btn-sm { padding: 0.3rem 0.7rem; }

.btn-loader {
  font-size: 1.2rem;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

.msg-box {
  font-size: 0.8rem;
  letter-spacing: 0.05em;
  min-height: 1.2rem;
  margin: 0.8rem 0;
  transition: all var(--transition);
}
.msg-box.error   { color: var(--danger); }
.msg-box.success { color: var(--success); }

.switch-link {
  text-align: center;
  margin-top: 1.5rem;
  font-size: 0.8rem;
  color: var(--text-dim);
  letter-spacing: 0.05em;
}
.switch-link a {
  color: var(--accent);
  text-decoration: none;
  cursor: none;
  transition: color var(--transition);
}
.switch-link a:hover { color: var(--accent2); }

.navbar {
  position: relative; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  padding: 1.2rem 2.5rem;
  border-bottom: 1px solid var(--border);
  background: rgba(9,12,16,0.85);
  backdrop-filter: blur(20px);
}
.nav-brand { display: flex; align-items: center; gap: 0.7rem; }
.brand-icon-sm { font-size: 1.3rem; }
.brand-title-sm {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: 0.9rem;
  letter-spacing: 0.25em;
}
.brand-title-sm span { color: var(--accent); }
.nav-user { display: flex; align-items: center; gap: 1rem; }
.nav-username {
  font-size: 0.75rem;
  letter-spacing: 0.12em;
  color: var(--text-dim);
  font-style: italic;
}

.dashboard {
  position: relative; z-index: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  padding: 2rem 2.5rem;
  max-width: 1200px;
  margin: 0 auto;
  min-height: calc(100vh - 65px);
}
@media (max-width: 900px) {
  .dashboard { grid-template-columns: 1fr; }
}

.panel {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 2rem;
  backdrop-filter: blur(16px);
  animation: cardIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.panel-result { animation-delay: 0.1s; display: flex; flex-direction: column; gap: 1.5rem; }

.panel-header { margin-bottom: 1.5rem; }
.panel-header h2, .panel-header h3 {
  font-family: var(--font-serif);
  font-weight: 400;
  font-size: 1.5rem;
  color: var(--text);
  letter-spacing: 0.02em;
}
.panel-header h3 { font-size: 1.1rem; }
.panel-header p {
  font-size: 0.78rem;
  color: var(--text-dim);
  margin-top: 0.3rem;
  letter-spacing: 0.06em;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0 2rem;
}

.result-card {
  background: rgba(255,255,255,0.02);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 240px;
}
.result-idle {
  text-align: center;
  color: var(--text-faint);
}
.result-icon-idle { font-size: 3rem; margin-bottom: 0.8rem; opacity: 0.3; }
.result-idle p { font-size: 0.8rem; letter-spacing: 0.08em; }

.result-show {
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  width: 100%;
}
.result-badge {
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.25em;
  padding: 0.4rem 1.4rem;
  border-radius: 50px;
}
.badge-survived {
  color: var(--success);
  border: 1px solid var(--success);
  background: rgba(74,222,128,0.08);
}
.badge-died {
  color: var(--danger);
  border: 1px solid var(--danger);
  background: rgba(248,113,113,0.08);
}
.result-prob-ring {
  position: relative;
  width: 130px; height: 130px;
}
.ring-svg {
  width: 100%; height: 100%;
  transform: rotate(-90deg);
}
.ring-bg {
  fill: none;
  stroke: var(--border);
  stroke-width: 5;
}
.ring-fill {
  fill: none;
  stroke-width: 5;
  stroke-linecap: round;
  transition: stroke-dashoffset 0.05s linear;
}
.ring-text {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 0.1rem;
}
.ring-text span {
  font-family: var(--font-serif);
  font-size: 1.7rem;
  font-weight: 600;
  color: var(--text);
}
.ring-text small {
  font-size: 0.62rem;
  letter-spacing: 0.1em;
  color: var(--text-dim);
}
.result-detail {
  font-family: var(--font-serif);
  font-size: 1rem;
  font-style: italic;
  color: var(--text-dim);
  text-align: center;
}

.history-panel {
  background: rgba(255,255,255,0.02);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.5rem;
  flex: 1;
}
.history-panel .panel-header {
  display: flex; align-items: center;
  justify-content: space-between;
  margin-bottom: 1rem;
}
.history-list { display: flex; flex-direction: column; gap: 0.6rem; max-height: 260px; overflow-y: auto; }
.history-list::-webkit-scrollbar { width: 3px; }
.history-list::-webkit-scrollbar-track { background: transparent; }
.history-list::-webkit-scrollbar-thumb { background: var(--border-h); border-radius: 99px; }

.history-empty {
  color: var(--text-faint);
  font-size: 0.8rem;
  letter-spacing: 0.06em;
  text-align: center;
  padding: 1rem 0;
}
.history-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.7rem 0.9rem;
  border-radius: 8px;
  border-left: 2px solid;
  background: var(--surface);
  animation: slideIn 0.3s ease both;
}
@keyframes slideIn {
  from { opacity: 0; transform: translateX(-8px); }
  to   { opacity: 1; transform: none; }
}
.history-item.survived { border-color: var(--success); }
.history-item.not-survived { border-color: var(--danger); }

.hi-meta { flex: 1; }
.hi-class { font-size: 0.72rem; font-weight: 600; letter-spacing: 0.1em; color: var(--text); display: block; }
.hi-sex   { font-size: 0.7rem; color: var(--text-dim); }
.hi-result { display: flex; align-items: center; gap: 0.4rem; }
.hi-badge { font-size: 0.9rem; }
.survived  .hi-badge { color: var(--success); }
.not-survived .hi-badge { color: var(--danger); }
.hi-prob  { font-size: 0.78rem; color: var(--text-dim); font-family: var(--font-serif); }
.hi-time  { display: block; font-size: 0.62rem; color: var(--text-faint); letter-spacing: 0.06em; margin-top: 0.2rem; }

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-h); border-radius: 99px; }